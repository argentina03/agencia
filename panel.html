<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>CLAU712</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://kit.fontawesome.com/a67d08e98b.js" crossorigin="anonymous"></script>
</head>
<body class="panel-body has-sidebar">
  <div class="sidebar tabs">
    <h2>CLAU712</h2>
    <button onclick="mostrarSeccion('jugadas')">Carga de Jugadas</button>
    <button onclick="mostrarSeccion('enviadas')">Jugadas Enviadas</button>
    <button onclick="mostrarSeccion('resultados')">Resultados</button>
    <button onclick="mostrarSeccion('liquidaciones')">Liquidaciones</button>
    <button onclick="mostrarSeccion('perfil')">Editar Perfil</button>
    <button onclick="cerrarSesion()">Cerrar Sesión</button>
  </div>
  <div id="content">
  <main class="contenido" id="contenidoPrincipal">
    <h1>Bienvenido a CLAU712</h1>
    <p style="color:#888; text-align:center; margin-top:20px;">Seleccioná una opción del menú para comenzar.</p>
  </main>

  <!-- Sección de Resultados -->
<section id="resultados" style="display:none;">
  <div style="text-align: center; margin-bottom: 20px;">
    <input type="date" id="buscarFecha" style="padding: 10px; font-size: 14px;">
    <button style="font-size: 18px; padding: 8px 20px; margin: 6px;" onclick="buscarResultados()">Buscar</button>
  </div>

  <h2 style="text-align: center; color: white; background-color: #333; padding: 10px;">ACIERTOS DE JUGADAS</h2>

  <div class="table-wrap">
    <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
      <thead>
        <tr>
          <th style="padding: 10px; text-align: left; color: white; background-color: #222;">Ticket</th>
          <th style="padding: 10px; text-align: left; color: white; background-color: #222;">Loterías</th>
          <th style="padding: 10px; text-align: left; color: white; background-color: #222;">Número</th>
          <th style="padding: 10px; text-align: left; color: white; background-color: #222;">Posición</th>
          <th style="padding: 10px; text-align: left; color: white; background-color: #222;">Número R</th>
          <th style="padding: 10px; text-align: left; color: white; background-color: #222;">Posición R</th>
          <th style="padding: 10px; text-align: left; color: white; background-color: #222;">Importe</th>
          <th style="padding: 10px; text-align: left; color: white; background-color: #222;">Acierto</th>
        </tr>
      </thead>
      <tbody id="tablaAciertos"></tbody>
    </table>
  </div>

  <h3 style="text-align: center; color: white; margin-top: 20px;">Comparación de Loterías</h3>
  <div class="table-wrap">
    <table style="width: 100%; margin-top: 10px;">
      <thead>
        <tr>
          <th style="padding: 10px; background-color: #222; color: white;">Letra</th>
          <th style="padding: 10px; background-color: #222; color: white;">Lotería</th>
        </tr>
      </thead>
      <tbody>
        <tr><td>A</td><td>Nacional</td></tr>
        <tr><td>B</td><td>Provincia</td></tr>
        <!-- + las que quieras -->
      </tbody>
    </table>
  </div>

  <div style="margin-top: 20px; text-align: center;">
    <input type="number" id="ticketNumero" placeholder="Número de ticket" style="padding: 8px; font-size: 14px;">
    <button onclick="verificarPremio()" style="padding: 8px 20px;">Verificar Premio</button>
    <p id="resultadoPremio" style="color: #ff9900;"></p>
  </div>
</section>
</div> <!-- /#content -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="config.js"></script>  
  <script src="main.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script>
    (function () {
      // Solo móvil
      if (!window.matchMedia('(max-width: 900px)').matches) return;
    
      // Ocultar cualquier sidebar/tabs que ya venga del HTML
      var css = `
        .sidebar, .tabs, .solapas, .nav-lateral { display: none !important; }
        /* FAB hamburguesa */
        .mobi-tabs-btn{
          position: fixed; left: 50%; transform: translateX(-50%);
          bottom: 18px; width: 56px; height: 56px; border-radius: 999px;
          background: #111; border: 2px solid #444; z-index: 9998; cursor: pointer;
          display: grid; place-items: center;
          box-shadow: 0 8px 24px rgba(0,0,0,.35);
        }
        .mobi-tabs-btn span{
          width: 22px; height: 2px; background: #fff; position: relative; display: block;
        }
        .mobi-tabs-btn span::before,.mobi-tabs-btn span::after{
          content:""; position:absolute; left:0; width:22px; height:2px; background:#fff;
        }
        .mobi-tabs-btn span::before{ top:-7px } .mobi-tabs-btn span::after{ top:7px }
    
        /* Bottom sheet */
        .mobi-sheet{
          position: fixed; left:0; right:0; bottom:-100%; z-index:9999;
          background:#0b0b0b; border-top: 1px solid #333;
          box-shadow: 0 -20px 30px rgba(0,0,0,.6);
          transition: bottom .18s ease-out;
          padding: 14px;
        }
        .mobi-sheet.open{ bottom:0 }
        .mobi-sheet .grab{
          width: 42px; height: 4px; border-radius: 99px; background:#444;
          margin: 4px auto 10px;
        }
        .mobi-grid{
          display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap:10px;
        }
        .mobi-grid button{
          padding: 12px 10px; border-radius: 12px; background:#121212; color:#fff;
          border:1px solid #333; font-weight:700; letter-spacing:.2px;
        }
        @media (min-width:901px){
          .mobi-tabs-btn, .mobi-sheet{ display: none !important; }
        }
      `;
      var s = document.createElement('style'); s.textContent = css; document.head.appendChild(s);
    
      // FAB
      var btn = document.createElement('button');
      btn.className = 'mobi-tabs-btn';
      btn.innerHTML = '<span></span>';
      document.body.appendChild(btn);
    
      // Sheet con solapas
      var sheet = document.createElement('div');
      sheet.className = 'mobi-sheet';
      sheet.innerHTML = `
        <div class="grab"></div>
        <div class="mobi-grid">
          <button data-sec="jugadas">Carga de Jugadas</button>
          <button data-sec="enviadas">Jugadas Enviadas</button>
          <button data-sec="resultados">Resultados</button>
          <button data-sec="liquidaciones">Liquidaciones</button>
          <button data-sec="perfil">Editar Perfil</button>
          <button data-sec="__cerrar__">Cerrar Sesión</button>
        </div>
      `;
      document.body.appendChild(sheet);
    
      // abrir/cerrar
      var toggle = function() { sheet.classList.toggle('open'); };
      btn.addEventListener('click', toggle);
    
      // cerrar si tocan fuera (deslizador simple)
      sheet.addEventListener('click', function(e){
        if (e.target === sheet) sheet.classList.remove('open');
      });
    
      // acciones de solapas
      sheet.querySelectorAll('button[data-sec]').forEach(function(b){
        b.addEventListener('click', function(){
          var sec = b.getAttribute('data-sec');
          if (sec === '__cerrar__') {
            if (typeof cerrarSesion === 'function') cerrarSesion();
          } else {
            if (typeof mostrarSeccion === 'function') mostrarSeccion(sec);
          }
          sheet.classList.remove('open');
        });
      });
    
      // por las dudas, fuerza que NO haya nada lateral visible
      document.querySelectorAll('.sidebar,.tabs,.solapas,.nav-lateral').forEach(function(el){
        el.style.display = 'none';
      });
    })();
    </script>
</body>
</html>